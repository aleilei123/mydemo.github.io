<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>添加删除元素</title>
	<script>
	window.onload=function(){
     var otext=document.getElementById('text');
     var obtn1=document.getElementById('btn');
     var obtn2=document.getElementById('btn2');
     var oul=document.getElementById('content');
     obtn1.onclick=function(){
       
      
       var oli=document.createElement('li');
       var oA=document.createElement('a');
       oli.innerHTML=otext.value;
       oA.href="#";
       oA.innerHTML='删除';
       oA.onclick=function(){
          oul.removeChild(this.parentNode);
       };
       oli.appendChild(oA);
       oli.onclick=function(){
        this.index=true;
        this.style.background="yellow";
       };
       /*oul.appendChild(oli);*/
       if(oul.children[0]){
       oul.insertBefore(oli,oul.children[0]);
	   }else{
	   	oul.appendChild(oli);
	     }

       var ali=oul.getElementsByTagName('li');
    if(ali.length>5){
      oul.removeChild(oul.children[ali.length-1]);
       }
   };

   var ali=oul.getElementsByTagName('li');
   
   obtn2.onclick=function(){

      num=ali.length;
   
    for(var i=0;i<num;i++){

      if(ali[i].index==true){
       oul.removeChild(oul.children[i]);
       i--;
       num--;
      }
    }
     
   };
	};
	</script>
</head>
<body>
	<input id="text" type="text"></input>
	<input id="btn" type="button" value="留言"></input>
  <input id="btn2" type="button" value="批量删除"></input>
	<ul id="content"></ul>
</body>
</html>